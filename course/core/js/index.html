<!DOCTYPE html>
<html>

<body>
  <h1>JavaScript Demo</h1>
  https://stackblitz.com/
  https://codesandbox.io/
  <div id="counter">
    0409 第09章 第10章
    0410 第11章 第12章
    0411 第13章 第14章
    0412 第15章
    0413 第16章
    0414 第17章
    0415 第18章
    0416 第19章
    0417 第20章 第21章
    0418 第22章 第23章
    0419 第24章
    0420 第25章
    0421 第26章
  </div>

  <script>
    function median(...nums) {
      return nums.sort()[Math.floor(nums.length / 2)];
    }
    const proxy = new Proxy(median, {
      apply(target, thisArg, argumentsList) {
        for (const arg of argumentsList) {
          if (typeof arg !== "number") {
            throw "Non-number argument provided";
          }
        }
        return Reflect.apply(...arguments);
      }
    });
    console.log(proxy(4, 7, 1)); // 4
    //console.log(proxy(4, "test", 1));
    // Error: Non-number argument provided
    class User {
      constructor(id) {
        this.id_ = id;
      }
    }
    const proxyClass = new Proxy(User, {
      construct(target, argumentsList, newTarget) {
        if (argumentsList[0] === undefined) {
          throw 'User cannot be instantiated without id';
        } else {
          console.log("success");
          return Reflect.construct(...arguments);
        }
      }
    });
    new proxyClass(1);// success
    new proxyClass();// Error: User cannot be instantiated without id
  </script>

</body>

</html>